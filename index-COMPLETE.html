<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introvy.ai - Bring Your Job Application to Life</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <script src="https://js.stripe.com/v3/"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .gradient-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .job-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .job-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        .skill-tag {
            background: #f3f4f6;
            color: #374151;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.875rem;
            margin: 2px;
            display: inline-block;
        }
        .skill-tag.selected {
            background: #667eea;
            color: white;
        }
        .loading-spinner {
            border: 3px solid #f3f4f6;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .video-container {
            position: relative;
            width: 100%;
            height: 300px;
            background: #000;
            border-radius: 8px;
            overflow: hidden;
        }
        .section {
            display: none;
        }
        .section.active {
            display: block;
        }
        .StripeElement {
            background: white;
            padding: 12px;
            border-radius: 6px;
            border: 1px solid #d1d5db;
        }
        .StripeElement--focus {
            border-color: #667eea;
            box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.2);
        }
    </style>
</head>
<body class="bg-white">
    <!-- Header -->
    <header class="bg-white shadow-sm fixed w-full top-0 z-50">
        <nav class="container mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center">
                    <i class="fas fa-video text-2xl gradient-text mr-2"></i>
                    <span class="text-xl font-bold text-gray-800">Introvy.ai</span>
                </div>
                <div class="hidden md:flex space-x-8">
                    <a href="#" onclick="showSection('home')" class="text-gray-600 hover:text-blue-600 transition">Home</a>
                    <a href="#" onclick="showSection('how-it-works')" class="text-gray-600 hover:text-blue-600 transition">How It Works</a>
                    <a href="#" onclick="showSection('job-wall')" class="text-gray-600 hover:text-blue-600 transition">Job Wall</a>
                    <a href="#" onclick="showSection('about')" class="text-gray-600 hover:text-blue-600 transition">About</a>
                    <a href="#" onclick="showSection('contact')" class="text-gray-600 hover:text-blue-600 transition">Contact</a>
                </div>
                <div class="md:hidden">
                    <button class="text-gray-600">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <!-- Home Section -->
    <section id="home" class="section active mt-16">
        <!-- Hero Section -->
        <div class="gradient-bg text-white py-20">
            <div class="container mx-auto px-6 text-center">
                <h1 class="text-5xl md:text-6xl font-bold mb-6">
                    Bring your job application to life
                </h1>
                <p class="text-xl md:text-2xl mb-8 opacity-90">
                    Send better job applications with personalized video answers.<br>
                    Stand out from the crowd with AI-powered interview questions<br>
                    tailored to any job.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <button onclick="showSection('candidate-app')" class="bg-white text-blue-600 px-8 py-3 rounded-full font-semibold hover:bg-gray-100 transition">
                        Get Started Free
                    </button>
                    <button onclick="showSection('candidate-app')" class="bg-transparent border-2 border-white text-white px-8 py-3 rounded-full font-semibold hover:bg-white hover:text-blue-600 transition">
                        Start Application
                    </button>
                </div>
            </div>
        </div>

        <!-- How It Works Preview -->
        <div class="py-16">
            <div class="container mx-auto px-6">
                <h2 class="text-4xl font-bold text-center mb-4">How It Works</h2>
                <p class="text-xl text-gray-600 text-center mb-12">Simple steps to transform your job applications</p>
                
                <!-- For Job Candidates -->
                <div class="mb-16">
                    <h3 class="text-2xl font-bold text-center mb-8">For Job Candidates</h3>
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                <span class="text-2xl font-bold text-blue-600">1</span>
                            </div>
                            <h4 class="text-xl font-semibold mb-2">Paste Job Description</h4>
                            <p class="text-gray-600">Copy any job description from company websites or job boards</p>
                        </div>
                        <div class="text-center">
                            <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                <span class="text-2xl font-bold text-blue-600">2</span>
                            </div>
                            <h4 class="text-xl font-semibold mb-2">AI Questions</h4>
                            <p class="text-gray-600">Get 3-5 tailored interview questions based on the role</p>
                        </div>
                        <div class="text-center">
                            <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                <span class="text-2xl font-bold text-blue-600">3</span>
                            </div>
                            <h4 class="text-xl font-semibold mb-2">Record Videos</h4>
                            <p class="text-gray-600">Answer questions via webcam or mobile with AI feedback</p>
                        </div>
                        <div class="text-center">
                            <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                <span class="text-2xl font-bold text-blue-600">4</span>
                            </div>
                            <h4 class="text-xl font-semibold mb-2">Share Link</h4>
                            <p class="text-gray-600">Send your personalized submission to employers</p>
                        </div>
                    </div>
                    <div class="text-center mt-8">
                        <button onclick="showSection('candidate-app')" class="bg-blue-500 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-600 transition">
                            Try It Now - Free
                        </button>
                    </div>
                </div>

                <!-- For Recruiters -->
                <div>
                    <h3 class="text-2xl font-bold text-center mb-8">For Recruiters</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                <span class="text-2xl font-bold text-green-600">1</span>
                            </div>
                            <h4 class="text-xl font-semibold mb-2">Create 60s Pitch</h4>
                            <p class="text-gray-600">Record a short video about your role and company culture</p>
                        </div>
                        <div class="text-center">
                            <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                <span class="text-2xl font-bold text-green-600">2</span>
                            </div>
                            <h4 class="text-xl font-semibold mb-2">Add Job Details</h4>
                            <p class="text-gray-600">Fill in title, company, location, and skill tags</p>
                        </div>
                        <div class="text-center">
                            <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                <span class="text-2xl font-bold text-green-600">3</span>
                            </div>
                            <h4 class="text-xl font-semibold mb-2">Go Live - $25</h4>
                            <p class="text-gray-600">Your video spotlight appears on our public job wall</p>
                        </div>
                    </div>
                    <div class="text-center mt-8">
                        <button onclick="showSection('recruiter-post')" class="bg-green-500 text-white px-8 py-3 rounded-lg font-semibold hover:bg-green-600 transition">
                            Post Your Job - $25
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Pricing -->
        <div class="py-16 bg-gray-50">
            <div class="container mx-auto px-6">
                <h2 class="text-4xl font-bold text-center mb-4">Choose Your Plan</h2>
                <p class="text-xl text-gray-600 text-center mb-12">Start free, upgrade when you need more power</p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                    <div class="bg-white p-8 rounded-lg shadow-md">
                        <h3 class="text-2xl font-bold mb-2">Free</h3>
                        <div class="text-4xl font-bold mb-4">$0</div>
                        <p class="text-gray-600 mb-6">Perfect for getting started</p>
                        <ul class="space-y-3 mb-8">
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Up to 3 video submissions/month</li>
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> AI-generated questions</li>
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Easy & Medium difficulty</li>
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> 1 question regeneration</li>
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Desktop and mobile access</li>
                        </ul>
                        <button onclick="showSection('candidate-app')" class="w-full bg-gray-200 text-gray-800 py-3 rounded-lg font-semibold hover:bg-gray-300 transition">
                            Get Started Free
                        </button>
                    </div>
                    <div class="bg-white p-8 rounded-lg shadow-md border-2 border-blue-500 relative">
                        <div class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white px-4 py-1 rounded-full text-sm">
                            Most Popular
                        </div>
                        <h3 class="text-2xl font-bold mb-2">Pro</h3>
                        <div class="text-4xl font-bold mb-4">$9<span class="text-lg text-gray-600">/month</span></div>
                        <p class="text-gray-600 mb-6">For serious job seekers</p>
                        <ul class="space-y-3 mb-8">
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Everything in Free plan</li>
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Unlimited video submissions</li>
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> All difficulty levels (Easy/Medium/Hard)</li>
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> 2 question regenerations per submission</li>
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Advanced AI feedback</li>
                        </ul>
                        <button onclick="showSection('candidate-app')" class="w-full gradient-bg text-white py-3 rounded-lg font-semibold hover:opacity-90 transition">
                            Upgrade to Pro
                        </button>
                    </div>
                    <div class="bg-white p-8 rounded-lg shadow-md">
                        <h3 class="text-2xl font-bold mb-2">Video Spotlight</h3>
                        <div class="text-4xl font-bold mb-4">$25<span class="text-lg text-gray-600">/job posting</span></div>
                        <p class="text-gray-600 mb-6">For recruiters</p>
                        <ul class="space-y-3 mb-8">
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> 60-second job pitch video</li>
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Featured on public job wall</li>
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Skill-based filtering</li>
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> No dashboard required</li>
                            <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2"></i> Instant activation</li>
                        </ul>
                        <button onclick="showSection('recruiter-post')" class="w-full bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-600 transition">
                            Post a Job
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Candidate Application Section -->
    <section id="candidate-app" class="section mt-16">
        <div class="container mx-auto px-6 py-8">
            <div class="max-w-4xl mx-auto">
                <div class="bg-white rounded-lg shadow-lg p-8">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-3xl font-bold text-gray-800">Create Your Video Application</h2>
                        <button onclick="showSection('home')" class="text-gray-500 hover:text-gray-700">
                            <i class="fas fa-times text-2xl"></i>
                        </button>
                    </div>
                    
                    <div id="candidate-step-1" class="step-content">
                        <h3 class="text-xl font-semibold mb-4">Step 1: Job Information</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Your Name *</label>
                                <input type="text" id="candidate-name" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Your full name">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Job Title *</label>
                                <input type="text" id="job-title" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Software Engineer">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Company Name *</label>
                                <input type="text" id="company-name" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Company Name">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Job Description *</label>
                                <textarea id="job-description" rows="6" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Paste the full job description here..."></textarea>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Difficulty Level</label>
                                    <select id="difficulty-level" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                        <option value="easy">Easy - Basic questions</option>
                                        <option value="medium" selected>Medium - Standard questions</option>
                                        <option value="hard">Hard - Advanced questions (Pro only)</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Plan</label>
                                    <select id="user-plan" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                        <option value="free">Free Plan</option>
                                        <option value="pro">Pro Plan</option>
                                    </select>
                                </div>
                            </div>
                            <button onclick="generateQuestions()" class="w-full bg-blue-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-600 transition">
                                Generate AI Questions
                            </button>
                        </div>
                    </div>

                    <div id="candidate-step-2" class="step-content hidden">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-xl font-semibold">Step 2: AI-Generated Questions</h3>
                            <div id="regeneration-info" class="text-sm text-gray-600"></div>
                        </div>
                        <div id="questions-container" class="space-y-4 mb-6"></div>
                        <div class="flex space-x-4">
                            <button id="regenerate-btn" onclick="regenerateQuestions()" class="bg-orange-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-orange-600 transition">
                                Regenerate Questions
                            </button>
                            <button onclick="startRecording()" class="bg-green-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-600 transition">
                                Start Recording Videos
                            </button>
                        </div>
                    </div>

                    <div id="candidate-step-3" class="step-content hidden">
                        <h3 class="text-xl font-semibold mb-4">Step 3: Record Video Responses</h3>
                        <div id="recording-interface">
                            <div class="mb-4">
                                <div id="current-question" class="bg-blue-50 p-4 rounded-lg mb-4 text-lg"></div>
                                <div class="video-container mb-4">
                                    <video id="video-preview" autoplay muted playsinline webkit-playsinline class="w-full h-full object-cover"></video>
                                    <div id="video-placeholder" class="absolute inset-0 flex items-center justify-center text-white">
                                        <div class="text-center">
                                            <i class="fas fa-video text-4xl mb-4"></i>
                                            <p>Click "Start Recording" to begin</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="flex space-x-4 mb-4">
                                    <button id="start-recording" onclick="startVideoRecording()" class="bg-red-500 text-white px-6 py-2 rounded-lg hover:bg-red-600">
                                        <i class="fas fa-record-vinyl mr-2"></i>Start Recording
                                    </button>
                                    <button id="stop-recording" onclick="stopVideoRecording()" class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600" disabled>
                                        <i class="fas fa-stop mr-2"></i>Stop Recording
                                    </button>
                                    <button id="next-question" onclick="nextQuestion()" class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600" style="display: none;">
                                        Next Question
                                    </button>
                                </div>
                                <div id="recording-progress" class="text-sm text-gray-600"></div>
                            </div>
                        </div>
                        <button id="finish-recording" onclick="finishApplication()" class="w-full bg-green-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-600 transition hidden">
                            Complete Application
                        </button>
                    </div>

                    <div id="candidate-step-4" class="step-content hidden">
                        <h3 class="text-xl font-semibold mb-4">Step 4: Application Complete!</h3>
                        <div class="bg-green-50 p-6 rounded-lg text-center">
                            <i class="fas fa-check-circle text-4xl text-green-500 mb-4"></i>
                            <h4 class="text-xl font-semibold mb-2">Your video application is ready!</h4>
                            <p class="text-gray-600 mb-4">Share this link with employers to showcase your application.</p>
                            <div class="bg-white p-4 rounded border mb-4">
                                <div class="flex items-center justify-between">
                                    <span id="submission-link" class="text-sm text-gray-600">Your submission link will appear here</span>
                                    <button onclick="copySubmissionLink()" class="bg-blue-500 text-white px-4 py-2 rounded text-sm hover:bg-blue-600">
                                        Copy Link
                                    </button>
                                </div>
                            </div>
                            <button onclick="showSection('home')" class="bg-blue-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-600 transition">
                                Create Another Application
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Recruiter Post Section -->
    <section id="recruiter-post" class="section mt-16">
        <div class="container mx-auto px-6 py-8">
            <div class="max-w-4xl mx-auto">
                <div class="bg-white rounded-lg shadow-lg p-8">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-3xl font-bold text-gray-800">Post Your Job Video Spotlight</h2>
                        <button onclick="showSection('home')" class="text-gray-500 hover:text-gray-700">
                            <i class="fas fa-times text-2xl"></i>
                        </button>
                    </div>
                    <p class="text-gray-600 mb-8">Create a 60-second video pitch for your job opening and reach talented candidates on our platform.</p>

                    <form id="recruiter-form" class="space-y-8">
                        <!-- Video Recording -->
                        <div class="border-b border-gray-200 pb-8">
                            <h3 class="text-xl font-semibold mb-4">
                                <span class="bg-blue-500 text-white rounded-full w-8 h-8 inline-flex items-center justify-center text-sm mr-3">1</span>
                                Record Your 60-Second Pitch
                            </h3>
                            <div class="video-container mb-4">
                                <video id="recruiter-video-preview" autoplay muted playsinline webkit-playsinline class="w-full h-full object-cover"></video>
                                <div id="recruiter-video-placeholder" class="absolute inset-0 flex items-center justify-center text-white">
                                    <div class="text-center">
                                        <i class="fas fa-video text-4xl mb-4"></i>
                                        <p>Click "Start Recording" to begin</p>
                                    </div>
                                </div>
                            </div>
                            <div class="flex space-x-4">
                                <button type="button" id="recruiter-start-recording" onclick="startRecruiterRecording()" class="bg-red-500 text-white px-6 py-2 rounded-lg hover:bg-red-600">
                                    <i class="fas fa-record-vinyl mr-2"></i>Start Recording
                                </button>
                                <button type="button" id="recruiter-stop-recording" onclick="stopRecruiterRecording()" class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600" disabled>
                                    <i class="fas fa-stop mr-2"></i>Stop Recording
                                </button>
                                <button type="button" id="recruiter-retake" onclick="retakeRecruiterVideo()" class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600" style="display: none;">
                                    <i class="fas fa-redo mr-2"></i>Retake
                                </button>
                            </div>
                            <div id="recruiter-recording-status" class="mt-4 text-sm text-gray-600"></div>
                        </div>

                        <!-- Job Details -->
                        <div class="border-b border-gray-200 pb-8">
                            <h3 class="text-xl font-semibold mb-4">
                                <span class="bg-blue-500 text-white rounded-full w-8 h-8 inline-flex items-center justify-center text-sm mr-3">2</span>
                                Job Details
                            </h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Job Title *</label>
                                    <input type="text" name="jobTitle" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Senior Software Engineer">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Company Name *</label>
                                    <input type="text" name="companyName" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Your Company">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Location</label>
                                    <input type="text" name="location" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="San Francisco, CA / Remote">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Job URL</label>
                                    <input type="url" name="jobUrl" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="https://company.com/careers/job-id">
                                </div>
                            </div>
                            <div class="mt-6">
                                <label class="block text-sm font-medium text-gray-700 mb-2">Job Description</label>
                                <textarea name="jobDescription" rows="4" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Describe the role, requirements, and what makes your company special..."></textarea>
                            </div>
                        </div>

                        <!-- Skills & Tags -->
                        <div class="border-b border-gray-200 pb-8">
                            <h3 class="text-xl font-semibold mb-4">
                                <span class="bg-blue-500 text-white rounded-full w-8 h-8 inline-flex items-center justify-center text-sm mr-3">3</span>
                                Required Skills
                            </h3>
                            <p class="text-gray-600 mb-4">Select relevant skills to help candidates find your job posting:</p>
                            
                            <div class="space-y-6">
                                <div>
                                    <h4 class="font-medium text-gray-700 mb-2">Technology</h4>
                                    <div class="flex flex-wrap">
                                        <span class="skill-tag" data-skill="JavaScript">JavaScript</span>
                                        <span class="skill-tag" data-skill="Python">Python</span>
                                        <span class="skill-tag" data-skill="React">React</span>
                                        <span class="skill-tag" data-skill="Node.js">Node.js</span>
                                        <span class="skill-tag" data-skill="TypeScript">TypeScript</span>
                                        <span class="skill-tag" data-skill="Java">Java</span>
                                        <span class="skill-tag" data-skill="C++">C++</span>
                                        <span class="skill-tag" data-skill="SQL">SQL</span>
                                        <span class="skill-tag" data-skill="AWS">AWS</span>
                                        <span class="skill-tag" data-skill="Docker">Docker</span>
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 class="font-medium text-gray-700 mb-2">Business & Marketing</h4>
                                    <div class="flex flex-wrap">
                                        <span class="skill-tag" data-skill="Sales">Sales</span>
                                        <span class="skill-tag" data-skill="Marketing">Marketing</span>
                                        <span class="skill-tag" data-skill="Business Development">Business Development</span>
                                        <span class="skill-tag" data-skill="Finance">Finance</span>
                                        <span class="skill-tag" data-skill="Accounting">Accounting</span>
                                        <span class="skill-tag" data-skill="Project Management">Project Management</span>
                                        <span class="skill-tag" data-skill="Data Analysis">Data Analysis</span>
                                        <span class="skill-tag" data-skill="Customer Success">Customer Success</span>
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 class="font-medium text-gray-700 mb-2">Healthcare</h4>
                                    <div class="flex flex-wrap">
                                        <span class="skill-tag" data-skill="Nursing">Nursing</span>
                                        <span class="skill-tag" data-skill="Medical Assistant">Medical Assistant</span>
                                        <span class="skill-tag" data-skill="Healthcare">Healthcare</span>
                                        <span class="skill-tag" data-skill="Physical Therapy">Physical Therapy</span>
                                        <span class="skill-tag" data-skill="Pharmacy">Pharmacy</span>
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 class="font-medium text-gray-700 mb-2">Creative & Design</h4>
                                    <div class="flex flex-wrap">
                                        <span class="skill-tag" data-skill="Graphic Design">Graphic Design</span>
                                        <span class="skill-tag" data-skill="UX/UI Design">UX/UI Design</span>
                                        <span class="skill-tag" data-skill="Content Writing">Content Writing</span>
                                        <span class="skill-tag" data-skill="Photography">Photography</span>
                                        <span class="skill-tag" data-skill="Video Editing">Video Editing</span>
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 class="font-medium text-gray-700 mb-2">Service & Retail</h4>
                                    <div class="flex flex-wrap">
                                        <span class="skill-tag" data-skill="Customer Service">Customer Service</span>
                                        <span class="skill-tag" data-skill="Retail">Retail</span>
                                        <span class="skill-tag" data-skill="Hospitality">Hospitality</span>
                                        <span class="skill-tag" data-skill="Restaurant">Restaurant</span>
                                        <span class="skill-tag" data-skill="Management">Management</span>
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 class="font-medium text-gray-700 mb-2">Trade Skills</h4>
                                    <div class="flex flex-wrap">
                                        <span class="skill-tag" data-skill="Plumbing">Plumbing</span>
                                        <span class="skill-tag" data-skill="Electrical">Electrical</span>
                                        <span class="skill-tag" data-skill="Construction">Construction</span>
                                        <span class="skill-tag" data-skill="HVAC">HVAC</span>
                                        <span class="skill-tag" data-skill="Automotive">Automotive</span>
                                    </div>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Custom Skills</label>
                                    <input type="text" id="custom-skills" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Enter additional skills separated by commas">
                                </div>
                            </div>
                            
                            <div class="mt-4">
                                <p class="text-sm text-gray-600">Selected skills:</p>
                                <div id="selected-skills" class="mt-2 min-h-[40px] p-3 bg-gray-50 rounded-lg border"></div>
                            </div>
                        </div>

                        <!-- Payment -->
                        <div>
                            <h3 class="text-xl font-semibold mb-4">
                                <span class="bg-blue-500 text-white rounded-full w-8 h-8 inline-flex items-center justify-center text-sm mr-3">4</span>
                                Payment - $25
                            </h3>
                            <p class="text-gray-600 mb-6">Your job video spotlight will appear on our public job wall immediately after payment.</p>
                            
                            <div class="bg-gray-50 p-6 rounded-lg">
                                <h4 class="font-medium text-gray-700 mb-4">Payment Details</h4>
                                <div id="card-element" class="mb-4">
                                    <!-- Stripe Elements will create form elements here -->
                                </div>
                                <div id="card-errors" role="alert" class="text-red-600 text-sm mb-4"></div>
                                
                                <div class="flex items-center justify-between bg-white p-4 rounded border">
                                    <span class="font-medium">Job Video Spotlight</span>
                                    <span class="text-xl font-bold">$25.00</span>
                                </div>
                            </div>
                        </div>

                        <!-- Submit Button -->
                        <div class="flex justify-center pt-8">
                            <button type="submit" id="recruiter-submit" class="bg-gradient-to-r from-blue-500 to-purple-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:from-blue-600 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed">
                                <i class="fas fa-rocket mr-2"></i>Post Job Spotlight - $25
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Job Wall Section -->
    <section id="job-wall" class="section mt-16">
        <div class="container mx-auto px-6 py-8">
            <h2 class="text-4xl font-bold text-center mb-4">Browse Job Video Spotlights</h2>
            <p class="text-xl text-gray-600 text-center mb-12">Discover opportunities through recruiter video pitches</p>
            
            <!-- Filters -->
            <div class="mb-8 text-center">
                <div class="inline-flex flex-wrap gap-2">
                    <button class="filter-btn bg-blue-500 text-white px-4 py-2 rounded-full" data-skill="all">All Jobs</button>
                    <button class="filter-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-full hover:bg-gray-300 transition" data-skill="React">React</button>
                    <button class="filter-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-full hover:bg-gray-300 transition" data-skill="JavaScript">JavaScript</button>
                    <button class="filter-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-full hover:bg-gray-300 transition" data-skill="Python">Python</button>
                    <button class="filter-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-full hover:bg-gray-300 transition" data-skill="Sales">Sales</button>
                    <button class="filter-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-full hover:bg-gray-300 transition" data-skill="Marketing">Marketing</button>
                </div>
            </div>

            <!-- Loading State -->
            <div id="job-loading" class="text-center py-12">
                <div class="loading-spinner mx-auto mb-4"></div>
                <p class="text-gray-600">Loading job opportunities...</p>
            </div>

            <!-- Job Wall Container -->
            <div id="job-wall-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Jobs will be loaded here -->
            </div>

            <!-- No Jobs Message -->
            <div id="no-jobs-message" class="text-center py-12 hidden">
                <i class="fas fa-briefcase text-6xl text-gray-300 mb-4"></i>
                <h3 class="text-2xl font-semibold text-gray-600 mb-2">No job postings yet</h3>
                <p class="text-gray-500">Be the first recruiter to post a video spotlight!</p>
                <button onclick="showSection('recruiter-post')" class="mt-4 bg-blue-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-600 transition">
                    Post Your Job
                </button>
            </div>

            <!-- Error Message -->
            <div id="error-message" class="text-center py-12 hidden">
                <i class="fas fa-exclamation-triangle text-6xl text-red-300 mb-4"></i>
                <h3 class="text-2xl font-semibold text-red-600 mb-2">Unable to load jobs</h3>
                <p class="text-gray-500">Please try refreshing the page or check back later.</p>
                <button onclick="loadJobs()" class="mt-4 bg-blue-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-600 transition">
                    Try Again
                </button>
            </div>

            <div class="text-center mt-8">
                <button onclick="showSection('home')" class="text-blue-500 hover:text-blue-600">
                    <i class="fas fa-arrow-left mr-2"></i>Back to Home
                </button>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="section mt-16">
        <div class="container mx-auto px-6 py-8">
            <h2 class="text-4xl font-bold text-center mb-12">About Introvy.ai</h2>
            <div class="max-w-4xl mx-auto text-center mb-12">
                <p class="text-xl text-gray-700 mb-6">
                    We're on a mission to humanize job applications and help both candidates and recruiters make better connections through the power of video.
                </p>
                <div class="bg-white p-8 rounded-lg shadow-md">
                    <h3 class="text-2xl font-bold mb-4">Our Mission</h3>
                    <p class="text-gray-700 mb-4">
                        Traditional job applications are broken. Resumes can't capture personality, passion, or communication skills. We believe every candidate deserves a chance to show who they really are beyond bullet points and keywords.
                    </p>
                    <p class="text-gray-700">
                        Introvy.ai bridges the gap between candidates and employers by making it easy to create personalized video responses that showcase the human side of job applications.
                    </p>
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
                <div class="text-center">
                    <div class="text-4xl font-bold text-blue-600 mb-2">2024</div>
                    <div class="text-gray-600">Founded</div>
                </div>
                <div class="text-center">
                    <div class="text-4xl font-bold text-blue-600 mb-2">Chicago</div>
                    <div class="text-gray-600">Based in Illinois</div>
                </div>
                <div class="text-center">
                    <div class="text-4xl font-bold text-blue-600 mb-2">AI + HR</div>
                    <div class="text-gray-600">Tech Focus</div>
                </div>
            </div>

            <div class="text-center">
                <button onclick="showSection('home')" class="text-blue-500 hover:text-blue-600">
                    <i class="fas fa-arrow-left mr-2"></i>Back to Home
                </button>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="section mt-16">
        <div class="container mx-auto px-6 py-8">
            <h2 class="text-4xl font-bold text-center mb-4">Get In Touch</h2>
            <p class="text-xl text-gray-600 text-center mb-12">Have questions? We'd love to hear from you.</p>
            <div class="max-w-2xl mx-auto">
                <div class="bg-white p-8 rounded-lg shadow-md">
                    <h3 class="text-2xl font-bold mb-6">Contact Information</h3>
                    <div class="space-y-4">
                        <div class="flex items-center">
                            <i class="fas fa-envelope text-blue-500 mr-3"></i>
                            <div>
                                <div class="font-semibold">Email</div>
                                <div class="text-gray-600"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f69e939a9a99b69f98828499808fd8979f">[email&#160;protected]</a></div>
                            </div>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-map-marker-alt text-blue-500 mr-3"></i>
                            <div>
                                <div class="font-semibold">Address</div>
                                <div class="text-gray-600">Chicago, IL</div>
                            </div>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-clock text-blue-500 mr-3"></i>
                            <div>
                                <div class="font-semibold">Response Time</div>
                                <div class="text-gray-600">Within 24 hours</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="text-center mt-8">
                <button onclick="showSection('home')" class="text-blue-500 hover:text-blue-600">
                    <i class="fas fa-arrow-left mr-2"></i>Back to Home
                </button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="container mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center mb-4">
                        <i class="fas fa-video text-2xl mr-2"></i>
                        <span class="text-xl font-bold">Introvy.ai</span>
                    </div>
                    <p class="text-gray-400">Bringing job applications to life through personalized video responses.</p>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Product</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" onclick="showSection('candidate-app')" class="hover:text-white transition">Create Application</a></li>
                        <li><a href="#" onclick="showSection('recruiter-post')" class="hover:text-white transition">Post a Job</a></li>
                        <li><a href="#" onclick="showSection('job-wall')" class="hover:text-white transition">Job Wall</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Company</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" onclick="showSection('about')" class="hover:text-white transition">About</a></li>
                        <li><a href="#" onclick="showSection('contact')" class="hover:text-white transition">Contact</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Support</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" onclick="showSection('contact')" class="hover:text-white transition">Contact Us</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2024 Introvy.ai. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
        // Global variables
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let recordedVideos = [];
        let regenerationsUsed = 0;
        let mediaRecorder;
        let recordedChunks = [];
        let currentVideoBlob;
        let recruiterVideoBlob;
        let stripe;
        let cardElement;
        let selectedSkills = new Set();

        // Initialize Stripe
        document.addEventListener('DOMContentLoaded', function() {
            stripe = Stripe('pk_live_51RekLCKBxvvnhL2UaEeUyQPtUpy7MtyQNSdlvMmqKDjPg7f9gbBcP322NzBdfsuhzepJVzFbh2VURBlMDsR5RV5700NvlUdjNN');
            const elements = stripe.elements();
            cardElement = elements.create('card');
            cardElement.mount('#card-element');

            cardElement.on('change', ({error}) => {
                const displayError = document.getElementById('card-errors');
                if (error) {
                    displayError.textContent = error.message;
                } else {
                    displayError.textContent = '';
                }
            });

            loadJobs();
            initializeSkillTags();
        });

        // Navigation
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
        }

        // Candidate Application Functions
        async function generateQuestions() {
            const candidateName = document.getElementById('candidate-name').value;
            const jobTitle = document.getElementById('job-title').value;
            const companyName = document.getElementById('company-name').value;
            const jobDescription = document.getElementById('job-description').value;
            const difficulty = document.getElementById('difficulty-level').value;
            const userPlan = document.getElementById('user-plan').value;

            if (!candidateName || !jobTitle || !companyName || !jobDescription) {
                alert('Please fill in all required fields.');
                return;
            }

            if (userPlan === 'free' && difficulty === 'hard') {
                alert('Hard difficulty is only available for Pro users. Please upgrade or select a different difficulty.');
                return;
            }

            try {
                const response = await fetch('https://introvy-backend.vercel.app/api/ai/generate-questions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        jobDescription: jobDescription,
                        difficulty: difficulty,
                        questionCount: 3,
                        userPlan: userPlan
                    })
                });

                const data = await response.json();

                if (data.success) {
                    currentQuestions = data.questions;
                    displayQuestions();
                    document.getElementById('candidate-step-1').classList.add('hidden');
                    document.getElementById('candidate-step-2').classList.remove('hidden');
                    updateRegenerationInfo();
                } else {
                    alert('Error generating questions: ' + data.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Failed to generate questions. Please try again.');
            }
        }

        async function regenerateQuestions() {
            const difficulty = document.getElementById('difficulty-level').value;
            const userPlan = document.getElementById('user-plan').value;
            const jobDescription = document.getElementById('job-description').value;

            const maxRegens = userPlan === 'pro' ? 2 : 1;
            if (regenerationsUsed >= maxRegens) {
                alert(`You've reached your regeneration limit. ${userPlan === 'free' ? 'Upgrade to Pro for more regenerations.' : ''}`);
                return;
            }

            try {
                const response = await fetch('https://introvy-backend.vercel.app/api/ai/generate-questions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        jobDescription: jobDescription,
                        difficulty: difficulty,
                        questionCount: 3,
                        isRegeneration: true,
                        userPlan: userPlan
                    })
                });

                const data = await response.json();

                if (data.success) {
                    currentQuestions = data.questions;
                    regenerationsUsed++;
                    displayQuestions();
                    updateRegenerationInfo();
                } else {
                    alert('Error regenerating questions: ' + data.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Failed to regenerate questions. Please try again.');
            }
        }

        function displayQuestions() {
            const container = document.getElementById('questions-container');
            container.innerHTML = currentQuestions.map((q, index) => `
                <div class="bg-gray-50 p-4 rounded-lg">
                    <div class="flex items-center mb-2">
                        <span class="bg-blue-500 text-white rounded-full w-6 h-6 inline-flex items-center justify-center text-sm mr-2">${index + 1}</span>
                        <span class="text-sm text-gray-600 capitalize">${q.category}  ${q.difficulty}</span>
                    </div>
                    <p class="font-medium">${q.question}</p>
                </div>
            `).join('');
        }

        function updateRegenerationInfo() {
            const userPlan = document.getElementById('user-plan').value;
            const maxRegens = userPlan === 'pro' ? 2 : 1;
            const remaining = maxRegens - regenerationsUsed;
            
            const info = document.getElementById('regeneration-info');
            info.textContent = `Regenerations: ${regenerationsUsed}/${maxRegens} used`;
            
            const regenBtn = document.getElementById('regenerate-btn');
            regenBtn.disabled = regenerationsUsed >= maxRegens;
            if (regenerationsUsed >= maxRegens) {
                regenBtn.textContent = 'Regeneration Limit Reached';
                regenBtn.classList.add('opacity-50', 'cursor-not-allowed');
            }
        }

        function startRecording() {
            currentQuestionIndex = 0;
            recordedVideos = [];
            document.getElementById('candidate-step-2').classList.add('hidden');
            document.getElementById('candidate-step-3').classList.remove('hidden');
            showCurrentQuestion();
        }

        function showCurrentQuestion() {
            if (currentQuestionIndex < currentQuestions.length) {
                const question = currentQuestions[currentQuestionIndex];
                document.getElementById('current-question').textContent = 
                    `Question ${currentQuestionIndex + 1} of ${currentQuestions.length}: ${question.question}`;
                document.getElementById('recording-progress').textContent = 
                    `Progress: ${currentQuestionIndex}/${currentQuestions.length} questions completed`;
            }
        }

        async function startVideoRecording() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({
                    video: true,
                    audio: {
                        echoCancellation: true,
                        noiseSuppression: true
                    }
                });

                const videoPreview = document.getElementById('video-preview');
                videoPreview.srcObject = stream;
                document.getElementById('video-placeholder').style.display = 'none';

                mediaRecorder = new MediaRecorder(stream);
                recordedChunks = [];

                mediaRecorder.ondataavailable = (event) => {
                    if (event.data.size > 0) {
                        recordedChunks.push(event.data);
                    }
                };

                mediaRecorder.onstop = () => {
                    currentVideoBlob = new Blob(recordedChunks, { type: 'video/webm' });
                    const url = URL.createObjectURL(currentVideoBlob);
                    videoPreview.srcObject = null;
                    videoPreview.src = url;
                    stream.getTracks().forEach(track => track.stop());
                    
                    document.getElementById('next-question').style.display = 'inline-block';
                };

                mediaRecorder.start();
                document.getElementById('start-recording').disabled = true;
                document.getElementById('stop-recording').disabled = false;

            } catch (error) {
                console.error('Error accessing camera:', error);
                alert('Error accessing camera. Please ensure permissions are granted.');
            }
        }

        function stopVideoRecording() {
            if (mediaRecorder && mediaRecorder.state === 'recording') {
                mediaRecorder.stop();
                document.getElementById('start-recording').disabled = false;
                document.getElementById('stop-recording').disabled = true;
            }
        }

        function nextQuestion() {
            recordedVideos.push({
                questionIndex: currentQuestionIndex,
                videoBlob: currentVideoBlob
            });

            currentQuestionIndex++;
            
            if (currentQuestionIndex < currentQuestions.length) {
                showCurrentQuestion();
                document.getElementById('video-placeholder').style.display = 'flex';
                document.getElementById('video-preview').src = '';
                document.getElementById('next-question').style.display = 'none';
            } else {
                document.getElementById('finish-recording').classList.remove('hidden');
                document.getElementById('recording-interface').style.display = 'none';
            }
        }

        async function finishApplication() {
            const candidateName = document.getElementById('candidate-name').value;
            const jobTitle = document.getElementById('job-title').value;
            const companyName = document.getElementById('company-name').value;

            try {
                const submissionId = 'sub_' + Date.now();
                document.getElementById('submission-link').textContent = 
                    `https://introvy-backend.vercel.app/api/submission-view?id=${submissionId}`;
                
                document.getElementById('candidate-step-3').classList.add('hidden');
                document.getElementById('candidate-step-4').classList.remove('hidden');
            } catch (error) {
                console.error('Error submitting application:', error);
                alert('Error submitting application. Please try again.');
            }
        }

        function copySubmissionLink() {
            const link = document.getElementById('submission-link').textContent;
            navigator.clipboard.writeText(link).then(() => {
                alert('Link copied to clipboard!');
            });
        }

        // Recruiter Functions
        async function startRecruiterRecording() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({
                    video: true,
                    audio: {
                        echoCancellation: true,
                        noiseSuppression: true
                    }
                });

                const videoPreview = document.getElementById('recruiter-video-preview');
                videoPreview.srcObject = stream;
                document.getElementById('recruiter-video-placeholder').style.display = 'none';

                mediaRecorder = new MediaRecorder(stream);
                recordedChunks = [];

                mediaRecorder.ondataavailable = (event) => {
                    if (event.data.size > 0) {
                        recordedChunks.push(event.data);
                    }
                };

                mediaRecorder.onstop = () => {
                    recruiterVideoBlob = new Blob(recordedChunks, { type: 'video/webm' });
                    const url = URL.createObjectURL(recruiterVideoBlob);
                    videoPreview.srcObject = null;
                    videoPreview.src = url;
                    stream.getTracks().forEach(track => track.stop());
                    
                    document.getElementById('recruiter-retake').style.display = 'inline-block';
                    document.getElementById('recruiter-recording-status').textContent = 'Recording complete!';
                    document.getElementById('recruiter-recording-status').className = 'mt-4 text-sm text-green-600';
                };

                mediaRecorder.start();
                document.getElementById('recruiter-start-recording').disabled = true;
                document.getElementById('recruiter-stop-recording').disabled = false;
                document.getElementById('recruiter-recording-status').textContent = 'Recording... (60 seconds max)';
                document.getElementById('recruiter-recording-status').className = 'mt-4 text-sm text-red-600';

                setTimeout(() => {
                    if (mediaRecorder && mediaRecorder.state === 'recording') {
                        stopRecruiterRecording();
                    }
                }, 60000);

            } catch (error) {
                console.error('Error accessing camera:', error);
                alert('Error accessing camera. Please ensure permissions are granted.');
            }
        }

        function stopRecruiterRecording() {
            if (mediaRecorder && mediaRecorder.state === 'recording') {
                mediaRecorder.stop();
                document.getElementById('recruiter-start-recording').disabled = false;
                document.getElementById('recruiter-stop-recording').disabled = true;
            }
        }

        function retakeRecruiterVideo() {
            recruiterVideoBlob = null;
            document.getElementById('recruiter-video-preview').src = '';
            document.getElementById('recruiter-video-placeholder').style.display = 'flex';
            document.getElementById('recruiter-retake').style.display = 'none';
            document.getElementById('recruiter-recording-status').textContent = '';
        }

        function initializeSkillTags() {
            document.querySelectorAll('.skill-tag').forEach(tag => {
                tag.addEventListener('click', function() {
                    const skill = this.dataset.skill;
                    if (selectedSkills.has(skill)) {
                        selectedSkills.delete(skill);
                        this.classList.remove('selected');
                    } else {
                        selectedSkills.add(skill);
                        this.classList.add('selected');
                    }
                    updateSelectedSkillsDisplay();
                });
            });

            document.getElementById('custom-skills').addEventListener('input', function() {
                updateSelectedSkillsDisplay();
            });
        }

        function updateSelectedSkillsDisplay() {
            const customSkillsInput = document.getElementById('custom-skills').value;
            const customSkills = customSkillsInput.split(',').map(s => s.trim()).filter(s => s);
            const allSkills = [...selectedSkills, ...customSkills];
            
            const display = document.getElementById('selected-skills');
            if (allSkills.length === 0) {
                display.innerHTML = '<span class="text-gray-400">No skills selected</span>';
            } else {
                display.innerHTML = allSkills.map(skill => 
                    `<span class="skill-tag selected">${skill}</span>`
                ).join('');
            }
        }

        // Recruiter form submission
        document.getElementById('recruiter-form').addEventListener('submit', async function(e) {
            e.preventDefault();

            if (!recruiterVideoBlob) {
                alert('Please record a video first.');
                return;
            }

            const formData = new FormData(this);
            const submitBtn = document.getElementById('recruiter-submit');

            try {
                submitBtn.disabled = true;
                submitBtn.textContent = 'Processing Payment...';

                const {error, paymentMethod} = await stripe.createPaymentMethod({
                    type: 'card',
                    card: cardElement,
                });

                if (error) {
                    throw new Error(error.message);
                }

                const paymentIntentResponse = await fetch('https://introvy-backend.vercel.app/api/payment/create-intent', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ amount: 2500 })
                });

                const { clientSecret } = await paymentIntentResponse.json();

                const {error: confirmError, paymentIntent} = await stripe.confirmCardPayment(clientSecret, {
                    payment_method: paymentMethod.id
                });

                if (confirmError) {
                    throw new Error(confirmError.message);
                }

                if (paymentIntent.status === 'succeeded') {
                    const customSkillsInput = document.getElementById('custom-skills').value;
                    const customSkills = customSkillsInput.split(',').map(s => s.trim()).filter(s => s);
                    const allSkills = [...selectedSkills, ...customSkills];

                    const jobData = {
                        jobTitle: formData.get('jobTitle'),
                        companyName: formData.get('companyName'),
                        location: formData.get('location') || '',
                        jobDescription: formData.get('jobDescription') || '',
                        jobUrl: formData.get('jobUrl') || '',
                        skillTags: allSkills,
                        videoFileUrl: URL.createObjectURL(recruiterVideoBlob),
                        paymentIntentId: paymentIntent.id
                    };

                    const response = await fetch('https://introvy-backend.vercel.app/api/recruiter/post-job', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(jobData)
                    });

                    const result = await response.json();

                    if (result.success) {
                        alert('Success! Your job video spotlight has been posted and is now live on our job wall.');
                        showSection('job-wall');
                        loadJobs();
                    } else {
                        throw new Error(result.error || 'Failed to post job');
                    }
                }

            } catch (error) {
                console.error('Error posting job:', error);
                alert('Error: ' + error.message);
            } finally {
                submitBtn.disabled = false;
                submitBtn.innerHTML = '<i class="fas fa-rocket mr-2"></i>Post Job Spotlight - $25';
            }
        });

        // Job Wall Functions
        let allJobs = [];
        let filteredJobs = [];
        let currentFilter = 'all';

        async function loadJobs() {
            const loadingElement = document.getElementById('job-loading');
            const containerElement = document.getElementById('job-wall-container');
            const noJobsElement = document.getElementById('no-jobs-message');
            const errorElement = document.getElementById('error-message');

            loadingElement.classList.remove('hidden');
            containerElement.innerHTML = '';
            noJobsElement.classList.add('hidden');
            errorElement.classList.add('hidden');

            try {
                const response = await fetch('https://introvy-backend.vercel.app/api/jobs/list');
                const data = await response.json();

                loadingElement.classList.add('hidden');

                if (data.success && data.jobs && data.jobs.length > 0) {
                    allJobs = data.jobs;
                    filteredJobs = allJobs;
                    displayJobs(filteredJobs);
                } else {
                    noJobsElement.classList.remove('hidden');
                }
            } catch (error) {
                console.error('Error loading jobs:', error);
                loadingElement.classList.add('hidden');
                errorElement.classList.remove('hidden');
            }
        }

        function displayJobs(jobs) {
            const container = document.getElementById('job-wall-container');
            
            if (jobs.length === 0) {
                container.innerHTML = '<div class="col-span-full text-center py-8"><p class="text-gray-500">No jobs found for the selected filter.</p></div>';
                return;
            }

            container.innerHTML = jobs.map(job => `
                <div class="job-card bg-white rounded-lg shadow-md overflow-hidden">
                    <div class="aspect-video bg-gray-100 relative">
                        ${job.video_file_url ? `
                            <video controls class="w-full h-full object-cover" playsinline webkit-playsinline>
                                <source src="${job.video_file_url}" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                        ` : `
                            <div class="w-full h-full flex items-center justify-center bg-gray-200">
                                <i class="fas fa-play-circle text-4xl text-gray-400"></i>
                            </div>
                        `}
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-2">${job.job_title}</h3>
                        <p class="text-gray-600 mb-2">${job.company_name}</p>
                        <p class="text-gray-500 mb-3">${job.location || 'Location not specified'}</p>
                        
                        ${job.skill_tags && job.skill_tags.length > 0 ? `
                            <div class="mb-4">
                                ${job.skill_tags.map(tag => `<span class="skill-tag">${tag}</span>`).join('')}
                            </div>
                        ` : ''}
                        
                        ${job.job_description ? `
                            <p class="text-gray-700 mb-4">${job.job_description.length > 150 ? job.job_description.substring(0, 150) + '...' : job.job_description}</p>
                        ` : ''}
                        
                        <div class="flex justify-between items-center">
                            ${job.job_url ? `
                                <a href="${job.job_url}" target="_blank" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition">
                                    Apply Now
                                </a>
                            ` : `
                                <span class="text-gray-400">No direct application link</span>
                            `}
                            <span class="text-sm text-gray-500">
                                ${new Date(job.created_at).toLocaleDateString()}
                            </span>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function filterJobs(skill) {
            currentFilter = skill;
            
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('bg-blue-500', 'text-white');
                btn.classList.add('bg-gray-200', 'text-gray-700');
            });
            
            document.querySelector(`[data-skill="${skill}"]`).classList.remove('bg-gray-200', 'text-gray-700');
            document.querySelector(`[data-skill="${skill}"]`).classList.add('bg-blue-500', 'text-white');

            if (skill === 'all') {
                filteredJobs = allJobs;
            } else {
                filteredJobs = allJobs.filter(job => 
                    job.skill_tags && job.skill_tags.includes(skill)
                );
            }

            displayJobs(filteredJobs);
        }

        // Add filter button listeners
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const skill = this.getAttribute('data-skill');
                    filterJobs(skill);
                });
            });
        });
    </script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"rayId":"9588b8204bb82191","serverTiming":{"name":{"cfExtPri":true,"cfEdge":true,"cfOrigin":true,"cfL4":true,"cfSpeedBrain":true,"cfCacheStatus":true}},"version":"2025.6.2","token":"4edd5f8ec12a48cfa682ab8261b80a79"}' crossorigin="anonymous"></script>
</body>
</html>
    <script id="html_badge_script1">
        window.__genspark_remove_badge_link = "https://www.genspark.ai/api/html_badge/" +
            "remove_badge?token=To%2FBnjzloZ3UfQdcSaYfDpQ9MzLMbf5QTTKL8F5vKNSQ3CcctFNiofcRrIvBEwsz%2BgHG%2BjNkXuGYBB9zKuQz%2BFuY6qwuemKGHhJF5p3ZNOMTntawMQkD1xDz5nDdmZ6vYvYYZz1QUQKZFo5is%2FzeDaJptM1feQrXMRCJKuR75802rT%2B6fCgUfVKUys3ptvqHJ4pVY4QGwOa67L1fmF4qiLvfWcgTyRRQDiV8Z%2BpHsJXHwHM2HPjOtKeEAY5EXsML%2B3t8PSsK5N9xGE%2FGJW6E6oIwZ36oDEbqM%2Bi6hhXQa5VDDAYIZrJ5kse3mmu5ojChtP74d8Zb0s3NxTbDxTfrRjQjNGGkwbUUeIA27D6U3K9SE%2BgWEGT%2BE7SUQlNsUd0VpK1vFrjEfIW%2Fg8TtLYF2sq1ODWHcuH0ZKg52U51muhWZ1IKNCtHLZMBoImsCn%2BLLZMzBHOrwaVX0ZFnc2LLLc8R3aFMbHv5gYtUC8dEvBjeIUppMxVkiejaOrwfXDCMgGjnJ4xYe%2FncubllQSX0xJ2zaF6%2Fymy1xHtB5PfzYkKI%3D";
        window.__genspark_locale = "en-US";
        window.__genspark_token = "To/BnjzloZ3UfQdcSaYfDpQ9MzLMbf5QTTKL8F5vKNSQ3CcctFNiofcRrIvBEwsz+gHG+jNkXuGYBB9zKuQz+FuY6qwuemKGHhJF5p3ZNOMTntawMQkD1xDz5nDdmZ6vYvYYZz1QUQKZFo5is/zeDaJptM1feQrXMRCJKuR75802rT+6fCgUfVKUys3ptvqHJ4pVY4QGwOa67L1fmF4qiLvfWcgTyRRQDiV8Z+pHsJXHwHM2HPjOtKeEAY5EXsML+3t8PSsK5N9xGE/GJW6E6oIwZ36oDEbqM+i6hhXQa5VDDAYIZrJ5kse3mmu5ojChtP74d8Zb0s3NxTbDxTfrRjQjNGGkwbUUeIA27D6U3K9SE+gWEGT+E7SUQlNsUd0VpK1vFrjEfIW/g8TtLYF2sq1ODWHcuH0ZKg52U51muhWZ1IKNCtHLZMBoImsCn+LLZMzBHOrwaVX0ZFnc2LLLc8R3aFMbHv5gYtUC8dEvBjeIUppMxVkiejaOrwfXDCMgGjnJ4xYe/ncubllQSX0xJ2zaF6/ymy1xHtB5PfzYkKI=";
    </script>
    
    <script id="html_notice_dialog_script" src="https://www.genspark.ai/notice_dialog.js"></script>
    